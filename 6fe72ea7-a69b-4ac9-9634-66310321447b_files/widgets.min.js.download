"use strict";define("widgets/utils/widgetModel",["lodash","compUtils"],function(e,t){function i(e,i){var n=t.compFactory.getCompReactClass(i);return n&&n.publicState?n.publicState(null,e):{}}function n(t,n){var a=t.getCompType(n),o={data:t.getCompData(n),fullData:t.getCompFullData(n),props:t.getCompProps(n)},r=t.getCompState(n)||i(o,a);return e.assign(o,{parent:t.getParentId(n),type:a,state:r,layout:t.getCompLayout(n),design:t.getCompDesign(n),isDisplayed:s(t,n),id:t.getCompName(n),events:[]})}function a(e,t){var i=e.getParentId(t),n=e.getCompState(i),a=e.getCompStructure(i),s=a&&n&&a.components[n.currentIndex];return s&&s.id}function s(e,t){for(var i=t;i;){if("wysiwyg.viewer.components.BoxSlideShowSlide"===e.getCompType(i)){return i===a(e,i)}i=e.getParentId(i)}return e.isDisplayed(t)}function o(t,i,n){return e.reduce(t,function(t,a){var s=i.getCompConnections(a),o=e.map(s,function(t){var i;return i="WixCodeConnectionItem"===t.type?e.assign({},t,{controllerId:n,config:null}):e.defaults({},t,{config:null}),{connection:i,compId:a}});return t.concat(o)},[])}function r(t,i,n){return e(o(i,t,n)).groupBy("connection.controllerId").mapValues(function(t){return e(t).groupBy("connection.role").mapValues(function(t){return e(t).keyBy("compId").mapValues("connection.config").value()}).value()}).value()}return{getCompModel:n,getConnectionsModel:r}}),define("widgets/utils/wixCodeRemoteModelService",["lodash","platformUtils","siteUtils","widgets/utils/widgetModel"],function(e,t,i,n){var a=t.RemoteModelInterface;return{generateRemoteModelInterface:function(t,s,o,r,d,u,c,p){var l=new a(void 0,c);return e.forEach(s,function(i){var a=n.getCompModel(t,i),s=e.get(a.data,"widgetId");e.assign(a,{publicAPI:u[s]}),l.addComponent(i,a)}),l.addPagesData(d,o),l.addPopups(r),l.addConnections(n.getConnectionsModel(t,s,p)),l.addEventTypes(i.constants.ACTION_TYPES),l},createRemoteModelInterface:function(e,t){return new a(e,t)}}}),define("widgets/core/widgetDataHelper",["lodash"],function(e){return{registerWidgetHandler:function(t,i){e.set(t,"widgetHandler",i)},getWidgetHandler:function(t){return e.get(t,"widgetHandler")}}}),define("widgets/core/dataResolvers/pageLinkDataResolver",["lodash","experiment"],function(e,t){function i(t,i){if("#"===t)return"#"+i.getMainPageId();var n=i.findDataOnMasterPageByPredicate(function(e){return e.pageUriSEO===t.replace("#","")}),a=e.get(n,"id",t);return e.startsWith(a,"#")?a:"#"+a}function n(t,i){var n=e.compact(t.replace(/^#/,"").split("/")),a=e.findKey(i.getRouters(),{prefix:n[0]});if(a)return{type:"DynamicPageLink",routerId:a,innerRoute:n.slice(1).join("/")}}function a(t){var i=[],n=e.get(t,"link");n&&i.push(n);var s=e.get(t,"linkList");return s&&(i=i.concat(s)),e.forEach(t,function(t){e.isObject(t)&&(i=i.concat(a(t)))}),i}function s(t,i){var n=e.reduce(i.columns,function(e,t){return t.linkPath&&e.push(t.linkPath),e},[]),a=[];return n.length>0&&e.forEach(t.rows,function(t){e.forEach(n,function(i){var n=i+"_linkObj",s=e.get(t,n);e.isUndefined(s)||a.push(s)})}),a}function o(o,r,d){var u,c=r.getSiteData();return u="Grid"===o.type?s(o,d):a(o),e.forEach(u,function(a){var s=a.type,o=a.pageId;if(("PageLink"===s||"AnchorLink"===s)&&e.isString(o))if(t.isOpen("sv_dpages")){var r=n(a.pageId,c);r?(e.assign(a,r),delete a.pageId):a.pageId=i(o,c)}else a.pageId=i(o,c)}),o}return{resolve:o}}),define("widgets/core/dataResolvers/emptyImageDataResolver",["lodash"],function(e){function t(t){return t.uri?t:e.assign({},t,{uri:"data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="})}function i(i){return"Image"===i.type?t(i):"ImageList"===i.type?e.assign({},i,{items:i.items&&i.items.map(t)}):i}return{resolve:i}}),define("widgets/core/widgetDataResolvers",["lodash","widgets/core/dataResolvers/pageLinkDataResolver","widgets/core/dataResolvers/emptyImageDataResolver"],function(e,t,i){var n=[t,i];return{resolve:function(t,i,a){return e.forEach(n,function(e){t=e.resolve(t,i,a)}),t}}}),define("widgets/core/modelBuilderDataHelper",["lodash"],function(e){function t(e){return{fetchData:e.getDataByQuery.bind(e),fetchPagesData:e.getPagesDataForRmi.bind(e),fetchPopupsData:e.getPopupsDataForRmi.bind(e),fetchRoutersData:e.getRoutersDataForRmi.bind(e),fetchPublicAPI:e.getPublicAPIDataForRmi.bind(e)}}function i(t){return e.includes(a,e.get(t,"type"))?e.get(t,"isPopup")?n.POPUP:n.PAGE:n.UNKNOWN}var n={PAGE:"Page",POPUP:"Popup",UNKNOWN:"Unknown"},a=["Page","AppPage"];return{getApi:t,getWidgetType:i,WIDGET_TYPES:n}}),define("widgets/core/modelBuilder",["lodash","coreUtils","widgets/utils/wixCodeRemoteModelService","widgets/core/modelBuilderDataHelper"],function(e,t,i,n){function a(t,n,a,s,o,r,d){return e.mapValues(n,function(e,n){return i.generateRemoteModelInterface(t,e,s(),o(),r(),d(),a,n)})}function s(t,i){var n=[u.PAGES_CONTAINER_ID,u.SITE_PAGES_ID];return e(i(t,t)).omit([u.SITE_STRUCTURE_ID]).keys().difference(n).value()}function o(e,t){var i=t(e,e);return n.getWidgetType(i)===n.WIDGET_TYPES.PAGE}function r(i,n,a){var r=t.siteConstants.MASTER_PAGE_ID,d=s(r,n),u=e.without(i,r);return e.transform(u,function(e,t){e[t]=s(t,n),o(t,a)&&(e[t]=e[t].concat(d))},{})}function d(e,t,i,s,o){var d=n.getApi(t);return a(e,r(i,o,d.fetchData),s,d.fetchRoutersData,d.fetchPopupsData,d.fetchPagesData,d.fetchPublicAPI)}var u=t.siteConstants;return{build:d}}),define("widgets/messages/messageBuilder",[],function(){function e(e,t){return{type:"load_user_code",widgets:e,rootIds:t}}function t(e,t,i,n){return{type:"load_widgets",sdkParameters:{referrer:"undefined"==typeof window?"":window.document.referrer},widgets:e,rootIds:i,routersMap:t||{},popupContexts:n||{}}}function i(e){return{type:"init_widgets",controllers:e}}function n(e,t){return{type:"start_widgets",contexts:e,siteInfo:t}}function a(e){return{type:"stop_widgets",widgetIds:e}}function s(e,t){return{type:"update",contextId:e,updates:t}}return{loadWidgetsMessage:t,loadUserCodesMessage:e,initWidgetsMessage:i,startWidgetsMessage:n,stopWidgetsMessage:a,updateWidgetMessage:s}}),define("widgets/core/RemoteWidgetHandlerProxy",["lodash","core","utils","widgets/core/widgetDataResolvers","widgets/core/modelBuilder","widgets/messages/messageBuilder"],function(e,t,i,n,a,s){function o(t,i,n,a){({data:this._runtimeDal.setCompData.bind(this._runtimeDal),design:this._runtimeDal.setCompDesign.bind(this._runtimeDal),props:this._runtimeDal.setCompProps.bind(this._runtimeDal),layout:this._runtimeDal.updateCompLayout.bind(this._runtimeDal),registerEvent:r.bind(this),unregisterAll:d.bind(this)})[i](t,n),e.isFunction(this._onUpdateCallback)&&this._onUpdateCallback(a)}function r(e,t){var i={action:{type:"comp",name:t.eventType,sourceId:e},behavior:{type:"widget",targetId:t.contextId,params:{callbackId:t.callbackId,compId:e},name:"runCode"}};this._runtimeDal.addActionsAndBehaviors(e,i)}function d(e,t){this._runtimeDal.removeActionsAndBehaviors(e,{action:{name:t.eventType}})}function u(e){var t=this._siteAPI.getSiteDataAPI().document,i=t.getAllCompsUnderRoot.bind(t);return a.build(this._siteAPI.getRuntimeDal(),this._siteAPI.getSiteData(),e,o.bind(this),i)}function c(){return{deviceType:this._siteAPI.getSiteData().isMobileView()?"mobile":"desktop"}}function p(e,t){var i=function(){if(this.isWidgetReady(e.contextId))return void this.handleCommand(e,t);p.call(this,e,t)};this._actionQueue.addItem(i.bind(this))}function l(e){if(!this._isFlushingPendingCommands){var t=this;this._isFlushingPendingCommands=!0;var n=function(){t._isFlushingPendingCommands=!1,t._actionQueue.flush(),g(t._commandsFlushListeners)};if(e)return void n();i.animationFrame.request(n)}}function g(t){e.forEach(t,function(e){return e()})}function f(e,t){this._runtimeDal=e.getRuntimeDal(),this._siteAPI=e,this._remoteModelInterfaces={},this._onUpdateCallback=t,this._receivedChanges=void 0,this._isFlushingPendingCommands=!1,this._readyWidgets={},this._commandsFlushListeners=[],this._actionQueue=e.getSiteDataAPI().getActionQueue()}function h(e){return this._remoteModelInterfaces[e]}function m(t){var i=e.merge(e.pick(t,"id"),e.pickBy(t,e.negate(e.isObject)));return i.nativeEvent=e.pickBy(t.nativeEvent,e.negate(e.isObject)),t.data&&(i.data=t.data),i}function v(t,i,a,s){var o=e.assign({},i.getCompData(a),s),r=i.getCompProps(a);return n.resolve(o,t,r)}var I={State:"stateChanged",Data:"dataChanged",Design:"designChanged",Props:"propsChanged",EventRegister:"registerEvent",EventUnregisterAll:"unregisterAll",Layout:"layoutChanged",Behavior:"executeBehavior"},y={WidgetReady:"widget_ready"};return f.prototype.initWidgets=function(e){var t=s.initWidgetsMessage(e);this._sendMessage(t)},f.prototype.startWidgets=function(t){if(!e.isEmpty(t)){e.assign(this._remoteModelInterfaces,u.call(this,t));var i=e.mapValues(this._remoteModelInterfaces,function(e){return e.toJson()}),n=c.call(this),a=s.startWidgetsMessage(e.pick(i,t),n);this._sendMessage(a)}},f.prototype.loadUserCode=function(e,t){var i=s.loadUserCodesMessage(e,t);this._sendMessage(i)},f.prototype.loadWidgets=function(t,i){this.loadUserCode(t,i);var n=e(i).transform(function(e,t){e[t]=this._runtimeDal.getPopupContext(t)}.bind(this),{}).omitBy(e.isUndefined).value(),a=s.loadWidgetsMessage(t,this._siteAPI.getSiteData().getRouters(),i,n);this._sendMessage(a)},f.prototype.getActiveWidgetIds=function(){return e.keys(this._remoteModelInterfaces)},f.prototype.stopWidgets=function(t){if(!e.isEmpty(t)){e.forEach(t,function(e){delete this._remoteModelInterfaces[e],this._readyWidgets[e]=!1}.bind(this));var i=s.stopWidgetsMessage(t);this._sendMessage(i)}},f.prototype.stopAllWidgets=function(){this.stopWidgets(e.keys(this._remoteModelInterfaces))},f.prototype.updateComponent=function(e){this._sendMessage(e)},f.prototype.handleWidgetUpdate=function(t){var i=e(t).keys().head(),n=e.pickBy(this._remoteModelInterfaces,function(t){return e.has(t.toJson(),["components",i])}),a=e.find(e.find(t));if(!e.isEmpty(n)&&!e.isEqual(this._receivedChanges,a)){var o=e(n).keys().head();n[o].updateModel(t);var r=s.updateWidgetMessage(o,t);this._sendMessage(r)}},f.prototype.handleRemoteMessage=function(t){switch(t.type){case y.WidgetReady:if(h.call(this,t.widgetId)){this._readyWidgets[t.widgetId]=!0;var i=function(){this._commandsFlushListeners=e.without(this._commandsFlushListeners,i),this._siteAPI.forceUpdate()}.bind(this);this._commandsFlushListeners.push(i),l.call(this)}}},f.prototype.onCommand=function(e,t){p.call(this,e,t),this.isWidgetReady(e.contextId)&&l.call(this,e.command===I.EventRegister)},f.prototype.handleCommand=function(e,i){this._receivedChanges=e.data;var n=this._remoteModelInterfaces[e.contextId];if(n){switch(e.command){case I.State:n.setState(e.compId,e.data);break;case I.Data:e.data=v(this._siteAPI,this._runtimeDal,e.compId,e.data),n.setData(e.compId,e.data);break;case I.Design:n.setDesign(e.compId,e.data);break;case I.Layout:n.setLayout(e.compId,e.data);break;case I.Props:n.setProps(e.compId,e.data,i);break;case I.EventRegister:n.registerEvent(e.contextId,e.compId,e.data.eventType,e.data.callbackId);break;case I.EventUnregisterAll:n.unregisterAll(e.compId,e.data.eventType);break;case I.Behavior:var a=e.data,s={group:"command",callback:i};t.behaviorsService.handleBehaviors(this._siteAPI,[a],s,a.type)}this._receivedChanges=void 0}},f.prototype.handleEvent=function(e,t,i,n){var a;switch(t){case"runCode":a={intent:"WIX_CODE",type:"wix_code_run_user_function",contextId:e,callbackId:i.callbackId,compId:i.compId,event:m(n)}}this._sendMessage(a)},f.prototype.isWidgetReady=function(e){return!!this._readyWidgets[e]},f.prototype._sendMessage=function(e){this._siteAPI.getWixCodeAppApi().sendMessage(e)},f.prototype.registerCommandsFlushedListener=function(t){if(!e.isFunction(t))throw new TypeError("The callback provided is not a function.");this._commandsFlushListeners.push(t)},f}),define("widgets/core/widgetService",["lodash","utils","widgets/utils/widgetModel","widgets/core/widgetDataHelper","widgets/core/RemoteWidgetHandlerProxy","coreUtils","wixCodeInit"],function(e,t,i,n,a,s,o){function r(e){return!!e.renderFlags.initWixCode}function d(e,t){D(e,new a(e,t))}function u(t,i,n){var a={dataChange:"data",propsChange:"props",stateChange:"state",layoutChange:"layout"},s=e.zipObject([a[n.type]],[n.value]),o=e.zipObject([i],[s]);P(t).handleWidgetUpdate(o)}function c(t,n,a){if(e.includes(t.getAllRenderedRootIds(),n)){var s=t.getRuntimeDal(),o=t.getSiteDataAPI(),r=o.document.getAllCompsUnderRoot(n,a),d=e(r).omit(["masterPage"]).mapValues(function(e){return i.getCompModel(s,e.id)}).value();P(t).handleWidgetUpdate(d)}}function p(e,t,i){c(e,t,i)}function l(t,i,n){var a=e.difference(t,e.map(i,"rootId"));return e.isEmpty(a)||(i=S(n,i,t),E(n,a)),i}function g(t,i){return e.map(t,function(t){return e.includes(i,t.rootId)?e.assign(t,{started:!0}):t})}function f(i,n,a){var s=i.getSiteData(),r=P(i);a=e.without(a,t.siteConstants.MASTER_PAGE_ID);var d=o.appsUtils.getApplications(s.getClientSpecMap(),a,s);if(e.isEmpty(d))return n;n=l(a,n,i);var u=e(n).reject({started:!0}).map("rootId").value();return e.isEmpty(u)?n:(r.startWidgets(u),n=g(n,u))}function h(t,i){var n=e.reject(t,function(t){return e.includes(i,t.rootId)});return e.map(n,"rootId")}function m(t,i,n){var a=P(t);return e.isEmpty(n)||e.isEmpty(i)?i:(a.stopWidgets(n),e.reject(i,function(t){return e.includes(n,t.rootId)}))}function v(t,i){var n=e.without(t.getRootIdsWhichShouldBeRendered(),"masterPage");if(r(t.getSiteData())){return i=m(t,i,h(i,n)),f(t,i,n)}return m(t,i,n)}function I(i,n){var a=n.getPageData(i),s=[{id:i,json:a}];if(e.get(n.getDataByQuery(i),"isPopup"))return s;var o=t.siteConstants.MASTER_PAGE_ID;return s.concat({id:o,json:n.getPageData(o)})}function y(t,i){return e(t).transform(function(t,i){e.assign(t,e.get(i,"data.connections_data"))},{}).values().flatMap(function(t){var n=i.resolveData(t,null,i.dataTypes.CONNECTIONS);return e.get(n,"items")}).groupBy("controllerId").value()}function A(e){return"platform.components.AppController"===e.componentType}function _(t,i){var n=y(e.map(t,"json"),i);return e(t).map(function(t){return{rootId:t.id,controllers:s.dataUtils.getAllCompsInStructure(e.get(t,"json.structure"),!1,A)}}).flatMap(function(t){return e.map(t.controllers,function(a){var s=a.dataQuery.replace("#","");return e.omitBy(e.merge({controllerBehaviors:e.get(i.getDataByQuery(a.behaviorQuery,t.rootId,i.dataTypes.BEHAVIORS),"items",[]),controllerData:i.getDataByQuery(s,t.rootId),controllerId:s,compId:a.id},{connections:e.get(n,s)}),e.isUndefined)})}).value()}function C(t){return e(t).groupBy(function(t){return e.get(t,"controllerData.applicationId")}).mapValues(function(t){return e(t).groupBy("controllerId").mapValues(function(t){return e.pick(e.head(t),["controllerData","controllerBehaviors","connections","compId"])}).value()}).value()}function D(e,t){var i=e.getSiteData().widgetsStore;n.registerWidgetHandler(i,t)}function P(e){var t=e.getSiteData().widgetsStore;return n.getWidgetHandler(t)}function w(i,n){return e(i).without(t.siteConstants.MASTER_PAGE_ID).filter(n.getPageTitle.bind(n)).value()}function R(t,i){var n=t.getSiteData(),a=w(i,n),s=o.appsUtils.getUserCodeDefinitions(n.getClientSpecMap(),a,n);if(!e.isEmpty(s)){P(t).loadUserCode(s,a)}}function S(t,i,n){var a=t.getSiteData(),s=w(n,a);if(e(s).difference(e.map(i,"rootId")).thru(e.isEmpty).value())return i;var r=o.appsUtils.getApplications(a.getClientSpecMap(),s,a);if(e.isEmpty(r))return i;P(t).loadWidgets(r,s);var d=e.map(s,function(e){return{rootId:e}});return i.concat(d)}function M(e,t){return C(_(I(t,e),e))}function E(i,n){var a=i.getSiteData(),s=e(n).without(t.siteConstants.MASTER_PAGE_ID).transform(function(e,t){e[t]=M(a,t)},{}).omitBy(e.isEmpty).value();if(!e.isEmpty(s)){P(i).initWidgets(s)}}function W(t,i,n){return e(t.getAllRenderedRootIds()).intersection(n).thru(e.isEmpty).value()?i:m(t,i,n)}function b(e){return e.getWixCodeAppApi()}function B(e,t){b(e).registerMessageHandler(t)}function k(e,t){b(e).registerMessageModifier(t)}function U(e,t){b(e).sendMessage(t)}return{getWidgetHandler:P,syncAppsState:v,handleRuntimeDalCompChange:u,handleDisplayedJsonUpdate:p,updateCompsUnderRoot:c,createAndRegisterWidgetHandler:d,loadUserCode:R,loadApps:S,initApps:E,stopApps:W,getControllersToInit:M,registerWidgetMessageHandler:B,registerWidgetMessageModifier:k,sendMessageToWidget:U}}),define("widgets/core/WidgetAspect",["lodash","coreUtils","widgets/core/widgetDataHelper","widgets/core/widgetService","widgets/core/modelBuilderDataHelper","experiment"],function(e,t,i,n,a,s){function o(t){this._siteAPI=t,this._loadedAppsRoots=[],this._updateSiteCallBacks=[],this._updating=!1,n.createAndRegisterWidgetHandler(t,this.updateSite.bind(this)),s.isOpen("sv_platform1")&&(this._siteAPI.registerToSiteWillMount(r.bind(this)),this._siteAPI.registerToSiteWillUpdate(r.bind(this))),this._siteAPI.getRuntimeDal().registerChangeListener(e.partial(n.handleRuntimeDalCompChange,this._siteAPI)),this._siteAPI.getSiteDataAPI().registerDisplayedJsonUpdateCallback(e.partial(n.handleDisplayedJsonUpdate,this._siteAPI)),this._siteAPI.registerToFakeModeChange(e.partial(n.updateCompsUnderRoot,this._siteAPI)),this.getWidgetHandler=e.partial(n.getWidgetHandler,this._siteAPI)}function r(){this._loadedAppsRoots=n.syncAppsState(this._siteAPI,this._loadedAppsRoots)}function d(t,i,n){return"masterPage"!==t?t:e.find(i,function(e){var t=n.getDataByQuery(e);return a.getWidgetType(t)===a.WIDGET_TYPES.PAGE})}return o.prototype.init=function(){this._loadedAppsRoots=[],this._updateSiteCallBacks=[],this._updating=!1},o.prototype.updateSite=function(i){if(i&&this._updateSiteCallBacks.push(i),!this._updating){this._updating=!0;var n=this;t.animationFrame.request(function(){n._updating=!1,e.invokeMap(n._updateSiteCallBacks,e.call),n._updateSiteCallBacks=[]})}},o.prototype.allContextsReady=function(){return e(this._loadedAppsRoots).map("rootId").every(this.isContextReady.bind(this))},o.prototype.isContextReady=function(t){var n=this._siteAPI.getSiteData(),a=n.widgetsStore,s=i.getWidgetHandler(a),o=e.map(this._loadedAppsRoots,"rootId"),r=d(t,o,n);return!!e.isEmpty(this._loadedAppsRoots)||e.includes(o,r)&&s.isWidgetReady(r)},o.prototype.loadUserCode=function(e){n.loadUserCode(this._siteAPI,e)},o.prototype.loadApps=function(e){this._siteAPI.getSiteData().renderFlags.initWixCode&&(n.loadUserCode(this._siteAPI,e),this._loadedAppsRoots=n.loadApps(this._siteAPI,this._loadedAppsRoots,e))},o.prototype.initApps=function(e){this._siteAPI.getSiteData().renderFlags.initWixCode&&n.initApps(this._siteAPI,e)},o.prototype.stopApps=function(e){this._loadedAppsRoots=n.stopApps(this._siteAPI,this._loadedAppsRoots,e)},o.prototype.restartApps=function(){if(!e.isEmpty(this._loadedAppsRoots)){var t=e.map(this._loadedAppsRoots,"rootId");this.stopApps(t),this.loadApps(t),this.initApps(t)}},o}),define("widgets/behaviors/widgetBehaviorHandler",["lodash"],function(e){function t(t,i,n){var a=i.getSiteAspect("WidgetAspect"),s=a.getWidgetHandler();e.forEach(t,function(e){s.handleEvent(e.targetId,e.name,e.params,n)})}function i(t){var i=e.at(t,n);return i.push(t.params.callbackId),i.push(t.params.compId),i.join(",")}var n=["type","name","targetId"];return{handle:t,getUniqueIdentifier:i}}),define("widgets/behaviors/widgetBehaviorPreprocessor",["lodash"],function(e){function t(e,t){var i=e.getRuntimeDal().getPageId(t);return i?"masterPage"===i?e.getSiteData().getFocusedRootId():i:null}function i(i,n,a){return e.assign({},i,{targetId:t(a,n.sourceId)})}return i}),define("widgets",["core","widgets/utils/wixCodeRemoteModelService","widgets/core/WidgetAspect","widgets/core/widgetDataHelper","widgets/core/modelBuilder","widgets/behaviors/widgetBehaviorHandler","widgets/behaviors/widgetBehaviorPreprocessor","widgets/messages/messageBuilder","widgets/utils/widgetModel","widgets/core/widgetService"],function(e,t,i,n,a,s,o,r,d,u){return e.behaviorHandlersFactory.registerHandler("widget",s),e.behaviorHandlersFactory.registerBehaviorPreprocessor("widget",o),e.siteAspectsRegistry.registerSiteAspect("WidgetAspect",i),{wixCodeRemoteModelService:t,widgetDataHelper:n,messageBuilder:r,modelBuilder:a,widgetModel:d,widgetService:u}});
//# sourceMappingURL=widgets.min.js.map